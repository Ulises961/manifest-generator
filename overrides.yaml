version: "v1.0.0"
project:
  name: "microservices-demo"
  namespace: "default"

# Global environment variables for all services
global:
  environment:
    - name: LOG_LEVEL
      value: "info"

services:
  # Service specific configuration
  frontend:
    replicas: 3
    environment:
      - name: PORT
        value: "8080"
      - name: PRODUCT_CATALOG_SERVICE_ADDR
        value: "productcatalogservice:3550"
      - name: CURRENCY_SERVICE_ADDR
        value: "currencyservice:7000"
      - name: CART_SERVICE_ADDR
        value: "cartservice:7070"
      - name: RECOMMENDATION_SERVICE_ADDR
        value: "recommendationservice:8080"
      - name: SHIPPING_SERVICE_ADDR
        value: "shippingservice:50051"
      - name: CHECKOUT_SERVICE_ADDR
        value: "checkoutservice:5050"
      - name: AD_SERVICE_ADDR
        value: "adservice:9555"
      - name: SHOPPING_ASSISTANT_SERVICE_ADDR
        value: "shoppingassistantservice:80"

  addservice:
    replicas: 2
    environment:
      - name: PORT
        value: "9555"
  cartservice:
    environment:
      - name: REDIS_ADDR
        value: "redis-cart:6379"
  checkoutservice:
    environment:
      - name: PORT
        value: "5050"
      - name: PRODUCT_CATALOG_SERVICE_ADDR
        value: "productcatalogservice:3550"
      - name: SHIPPING_SERVICE_ADDR
        value: "shippingservice:50051"
      - name: PAYMENT_SERVICE_ADDR
        value: "paymentservice:50051"
      - name: EMAIL_SERVICE_ADDR
        value: "emailservice:5000"
      - name: CURRENCY_SERVICE_ADDR
        value: "currencyservice:7000"
      - name: CART_SERVICE_ADDR
        value: "cartservice:7070"
  currencyservice:
    environment:
      - name: PORT
        value: "7000"
      - name: DISABLE_PROFILER
        value: "1"
  emailservice:
    environment:
      - name: PORT
        value: "8080"
      - name: DISABLE_PROFILER
        value: "1"
  loadgenerator:
    environment:
      - name: FRONTEND_ADDR
        value: "frontend:80"
      - name: USERS
        value: "10"
      - name: RATE
        value: "1"
  productcatalogservice:
    environment:
      - name: PORT
        value: "3550"
      - name: EXTRA_LATENCY
        value: "0s"
  recommendationservice:
    environment:
      - name: PORT
        value: "8080"
      - name: PRODUCT_CATALOG_SERVICE_ADDR
        value: "productcatalogservice:3550"
      - name: DISABLE_PROFILER
        value: "1"

